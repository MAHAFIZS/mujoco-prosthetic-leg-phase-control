<mujoco model="leg_3dof">
  <compiler angle="radian" coordinate="local"/>
  <option timestep="0.002" gravity="0 0 -9.81" integrator="RK4"/>
  <size njmax="2000" nconmax="200"/>
  <default>
    <joint damping="1" armature="0.02" limited="true"/>
    <geom friction="1.0 0.05 0.001" density="500" rgba="0.4 0.4 0.4 1"/>
    <motor ctrlrange="-150 150"/>
  </default>

  <worldbody>
    <!-- ground -->
    <geom name="floor" type="plane" size="5 5 0.1" rgba="0.85 0.85 0.85 1"/>

    <!-- pelvis frame -->
    <body name="pelvis" pos="0 0 0.95">

      <geom name="pelvis_geom" type="sphere" size="0.06" rgba="0.2 0.2 0.2 1"/>

      <!-- thigh -->
      <body name="thigh" pos="0 0 0">
        <joint name="hip" type="hinge" axis="0 1 0" range="-1.2 1.2"/>
        <geom name="thigh_geom" type="capsule" fromto="0 0 0  0 0 -0.45" size="0.06" rgba="0.2 0.2 0.2 1"/>

        <!-- shank -->
        <body name="shank" pos="0 0 -0.45">
          <joint name="knee" type="hinge" axis="0 1 0" range="-2.2 0.0"/>
          <geom name="shank_geom" type="capsule" fromto="0 0 0  0 0 -0.45" size="0.055" rgba="0.25 0.25 0.25 1"/>

          <!-- foot -->
          <body name="foot" pos="0 0 -0.45">
            <joint name="ankle" type="hinge" axis="0 1 0" range="-0.8 0.8"/>
            <!-- ankle block -->
            <geom name="ankle_geom" type="sphere" size="0.045" rgba="0.2 0.2 0.2 1"/>

            <!-- foot sole: a flat capsule-ish box -->
            <geom name="foot_geom" type="box" pos="0.10 0 -0.03" size="0.14 0.05 0.03" rgba="0.1 0.2 0.8 1"/>

            <!-- toe (optional) -->
            <geom name="toe_geom" type="box" pos="0.22 0 -0.03" size="0.06 0.05 0.02" rgba="0.1 0.2 0.8 1"/>

            <!-- contact site (optional) -->
            <site name="toe_site" pos="0.25 0 -0.03" size="0.01" rgba="1 0 0 1"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <motor name="hip_motor" joint="hip" gear="1"/>
    <motor name="knee_motor" joint="knee" gear="1"/>
    <motor name="ankle_motor" joint="ankle" gear="1"/>
  </actuator>
</mujoco>
